(()=>{"use strict";var e={295:(e,t,a)=>{a.r(t)},294:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(677),r=a(493);if(n.DOM_ELEMENTS.startDateInput&&n.DOM_ELEMENTS.endDateInput){const{oneDayAgo:e,today:t,minDate:a}=(0,r.calculateDateRange)();(0,r.setMinMaxValue)(n.DOM_ELEMENTS.startDateInput,a,e),(0,r.setMinMaxValue)(n.DOM_ELEMENTS.endDateInput,a,t)}n.DOM_ELEMENTS.dateForm&&n.DOM_ELEMENTS.dateForm.addEventListener("submit",r.handleSubmit)},677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ICONS=t.DOM_ELEMENTS=t.API_ENDPOINT=t.API_BASE_URL=void 0,t.API_BASE_URL="https://fakerapi.it/api/v1/",t.API_ENDPOINT="persons",t.DOM_ELEMENTS={body:document.body,dateForm:document.querySelector(".js-date-form"),startDateInput:document.querySelector(".js-startDate"),endDateInput:document.querySelector(".js-endDate"),resultsContainer:document.querySelector(".js-results"),submitBtn:document.querySelector(".js-submitBtn"),loader:document.querySelector(".js-lds-ring")},t.ICONS={email:"assets/email.svg",phone:"assets/phone.svg",birthday:"assets/birthday.svg",gender:"assets/gender.svg",website:"assets/website.svg"}},493:function(e,t,a){var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function i(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSubmit=t.fetchData=t.buildApiUrl=t.setMinMaxValue=t.calculateDateRange=t.getISODate=void 0;const r=a(677),s=a(338);t.getISODate=e=>e.toISOString().split("T")[0],t.calculateDateRange=()=>{const e=new Date;e.setDate(e.getDate()-1);const a=(0,t.getISODate)(e),n=(0,t.getISODate)(new Date);return e.setFullYear(e.getFullYear()-5),{oneDayAgo:a,today:n,minDate:(0,t.getISODate)(e)}},t.setMinMaxValue=(e,t,a)=>{e&&(e.setAttribute("min",t),e.setAttribute("max",a),e.value=a)},t.buildApiUrl=e=>{const t=[];for(const a in e)if(null==e?void 0:e.hasOwnProperty(a)){const n=`${a}=${e[a]}`;t.push(n)}return`${r.API_BASE_URL}${r.API_ENDPOINT}?${t.join("&")}`},t.fetchData=e=>n(void 0,void 0,void 0,(function*(){try{if(!(e=>/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/.test(e))(e))throw new Error("Invalid URL");const t=yield fetch(e);if(!t.ok)throw new Error(`Failed to fetch data from ${e}. Status: ${t.status}`);const a=yield t.json();return null==a?void 0:a.data}catch(e){throw new Error(`Error while fetching data: ${e.message}`)}})),t.handleSubmit=e=>{var a,n;null==e||e.preventDefault();const{endDateInput:o,startDateInput:i}=r.DOM_ELEMENTS;if(!i||!o)return;const l=null!==(a=String(null==i?void 0:i.value))&&void 0!==a?a:"",d=null!==(n=String(null==o?void 0:o.value))&&void 0!==n?n:"";((e,t)=>!(new Date(e)>=new Date(t)&&((0,s.displayError)("Start date should not be greater than or equal to the end date"),1)))(l,d)&&((e,a)=>{const n={_birthday_start:e,_birthday_end:a},r=(0,t.buildApiUrl)(n);(0,t.fetchData)(r).then((e=>{(0,s.displayError)(""),(0,s.setLoader)(!0),(0,s.displayResults)(e)})).catch((e=>(0,s.displayError)(e.message))).finally((()=>(0,s.setLoader)(!1)))})(l,d)}},338:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setLoader=t.displayError=t.displayResults=t.createResultItem=t.createListItem=void 0;const n=a(677);t.createListItem=(e,t)=>{const a=document.createElement("li"),n=document.createElement("img");n.src=e,n.alt=t;const r=document.createElement("p");return r.textContent=t,a.appendChild(n),a.appendChild(r),a},t.createResultItem=e=>{const a=document.createElement("div");a.classList.add("results__item");const{firstname:r,lastname:s,email:o,phone:i,birthday:l,gender:d,website:u}=e,c=document.createElement("ul");return c.appendChild((0,t.createListItem)(n.ICONS.email,`${r} ${s}`)),c.appendChild((0,t.createListItem)(n.ICONS.email,o)),c.appendChild((0,t.createListItem)(n.ICONS.phone,i)),c.appendChild((0,t.createListItem)(n.ICONS.birthday,l)),c.appendChild((0,t.createListItem)(n.ICONS.gender,d)),c.appendChild((0,t.createListItem)(n.ICONS.website,`${u}`)),a.appendChild(c),a},t.displayResults=e=>{const{resultsContainer:a}=n.DOM_ELEMENTS;a&&Array.isArray(e)&&(a.innerHTML="",e.forEach((e=>{const n=(0,t.createResultItem)(e);a.appendChild(n)})))},t.displayError=e=>{const{resultsContainer:t}=n.DOM_ELEMENTS;if(t&&(t.classList.toggle("error",!!e),e)){t.innerHTML="";const a=document.createElement("p");a.classList.add("error__description"),a.textContent=e,t.appendChild(a)}},t.setLoader=e=>{const{loader:t,body:a,submitBtn:r}=n.DOM_ELEMENTS;t&&a&&r&&(r.disabled=e,t.classList.toggle("display",e),a.style.overflow=e?"hidden":"auto")}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,a),s.exports}a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(295),a(294)})();