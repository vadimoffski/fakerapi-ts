(()=>{"use strict";var e={295:(e,t,r)=>{r.r(t)},294:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(677),s=r(493);n.DOM_ELEMENTS.dateForm&&n.DOM_ELEMENTS.dateForm.addEventListener("submit",s.handleSubmit)},677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ICONS=t.DOM_ELEMENTS=t.API_ENDPOINT=t.API_BASE_URL=void 0,t.API_BASE_URL="https://fakerapi.it/api/v1/",t.API_ENDPOINT="persons",t.DOM_ELEMENTS={body:document.body,dateForm:document.querySelector(".js-date-form"),startDateInput:document.querySelector(".js-startDate"),endDateInput:document.querySelector(".js-endDate"),resultsContainer:document.querySelector(".js-results"),submitBtn:document.querySelector(".js-submitBtn"),loader:document.querySelector(".js-lds-ring")},t.ICONS={email:"assets/email.svg",phone:"assets/phone.svg",birthday:"assets/birthday.svg",gender:"assets/gender.svg",website:"assets/website.svg"}},493:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,a){function o(e){try{d(n.next(e))}catch(e){a(e)}}function i(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSubmit=t.fetchData=t.buildApiUrl=void 0;const s=r(677),a=r(338);t.buildApiUrl=e=>{const t=[];for(const r in e)if(null==e?void 0:e.hasOwnProperty(r)){const n=`${r}=${e[r]}`;t.push(n)}return`${s.API_BASE_URL}${s.API_ENDPOINT}?${t.join("&")}`},t.fetchData=e=>n(void 0,void 0,void 0,(function*(){try{if(!(e=>/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/.test(e))(e))throw new Error("Invalid URL");const t=yield fetch(e);if(!t.ok)throw new Error(`Failed to fetch data from ${e}. Status: ${t.status}`);const r=yield t.json();return null==r?void 0:r.data}catch(e){throw new Error(`Error while fetching data: ${e.message}`)}})),t.handleSubmit=e=>{var r,n;null==e||e.preventDefault();const{endDateInput:o,startDateInput:i}=s.DOM_ELEMENTS;if(!i||!o)return;const d={_birthday_start:null!==(r=String(null==i?void 0:i.value))&&void 0!==r?r:"",_birthday_end:null!==(n=String(null==o?void 0:o.value))&&void 0!==n?n:""},l=(0,t.buildApiUrl)(d);(0,t.fetchData)(l).then((e=>{(0,a.displayError)(""),(0,a.setLoader)(!0),(0,a.displayResults)(e)})).catch((e=>(0,a.displayError)(e.message))).finally((()=>(0,a.setLoader)(!1)))}},338:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setLoader=t.displayError=t.displayResults=t.createResultItem=t.createListItem=void 0;const n=r(677);t.createListItem=(e,t)=>{const r=document.createElement("li"),n=document.createElement("img");n.src=e,n.alt=t;const s=document.createElement("p");return s.textContent=t,r.appendChild(n),r.appendChild(s),r},t.createResultItem=e=>{const r=document.createElement("div");r.classList.add("result__item");const{firstname:s,lastname:a,email:o,phone:i,birthday:d,gender:l,website:c}=e,u=document.createElement("ul");return u.appendChild((0,t.createListItem)(n.ICONS.email,`${s} ${a}`)),u.appendChild((0,t.createListItem)(n.ICONS.email,o)),u.appendChild((0,t.createListItem)(n.ICONS.phone,i)),u.appendChild((0,t.createListItem)(n.ICONS.birthday,d)),u.appendChild((0,t.createListItem)(n.ICONS.gender,l)),u.appendChild((0,t.createListItem)(n.ICONS.website,`${c}`)),r.appendChild(u),r},t.displayResults=e=>{const{resultsContainer:r}=n.DOM_ELEMENTS;r&&Array.isArray(e)&&(r.innerHTML="",e.forEach((e=>{const n=(0,t.createResultItem)(e);r.appendChild(n)})))},t.displayError=e=>{const{resultsContainer:t}=n.DOM_ELEMENTS;if(t&&(t.classList.toggle("error-container",!!e),e)){t.innerHTML="";const r=document.createElement("p");r.classList.add("error"),r.textContent=e,t.appendChild(r)}},t.setLoader=e=>{const{loader:t,body:r,submitBtn:s}=n.DOM_ELEMENTS;t&&r&&s&&(s.disabled=e,t.classList.toggle("display",e),r.style.overflow=e?"hidden":"auto")}}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(295),r(294)})();